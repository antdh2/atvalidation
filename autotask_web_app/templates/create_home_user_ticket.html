{% extends 'base.html' %}
{% load staticfiles %}

{% block page %}
<script>
$(document).ready(function () {



  $('#create-ticket').validate({ // initialize the plugin
      rules: {
          title: {
              required: true,
          },
          description: {
              required: true,
          },
          duedatetime: {
            required: true,
          },
          estimatedhours: {
            required: true,
          }
      },
      messages: {
        title: {
          required: "You must enter a title",
        },
        description: {
          required: "You must enter a description",
        },
        duedatetime: {
          required: "You must enter a Due Date Time",
        },
        estimatedhours: {
          required: "You must enter an estimated hours",
        },
      },
      // submitHandler: function (form) { // for demo
      //     alert('valid form submitted'); // for demo
      //     return false; // for demo
      // }
  });

});
</script>
  <div class="container">
    <div class="card">
      <h6 class="card-header primary-color white-text">Create New Ticket</strong></h6>
      <div class="card-block">
          <form id="create-ticket" action="{% url 'create_home_user_ticket' account.id %}" method="post">
            {% csrf_token %}

            <ul class="messages">
                {% for message in messages %}
                <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
                {% endfor %}
            </ul>

            <div class="form-group">
              <label for="account-name">Ticket Title: </label>
              <input type="text" name="title" id="title" {% if title %} value="{{ title }}" />{% endif %}
            </div>
            <div class="form-group">
              <label for="address1">Ticket Description: </label>
              <input type="text" name="description" id="description" {% if description %} value="{{ description }}" />{% endif %}
            </div>
            <div class="form-group">
              <label for="">Ticket Due Date Time: </label>
              <input type="text" name="duedatetime" id="duedatetime" {% if duedatetime %} value="{{ duedatetime }}" />{% endif %}
            </div>
            <div class="form-group">
              <label for="">Ticket Estimated Hours: </label>
              <input type="number" name="estimatedhours" id="estimatedhours" {% if estimatedhours %} value="{{ estimatedhours }}" />{% endif %}
            </div>
            <label>Ticket Priority</label>
            <select class="form-control priority" name="priority" id="priority">
              {% for field, value in PRIORITY.items %}
                  <option value="{{ value }}">{{ field }}</option>
              {% endfor %}
            </select>
            <label>Ticket Status</label>
            <select class="form-control" name="status" id="status">
              {% for field, value in STATUS.items %}
                  <option value="{{ value }}">{{ field }}</option>
              {% endfor %}
            </select>
            <label>Ticket Queue</label>
            <select class="form-control" name="queueid" id="queueid">
              {% for field, value in QUEUE_IDS.items %}
                <option value="{{ value }}">{{ field }}</option>
              {% endfor %}
            </select>
            <br>
            <input type="submit" style="margin-top: 10px;" />
          </form>
      </div>
    </div>
  </div>
{% endblock %}
